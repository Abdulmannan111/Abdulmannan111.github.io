{
  "version": 3,
  "sources": ["../@cloudcannon/visual-editor-connector/index.js"],
  "sourcesContent": ["let listeners = [];\n\nfunction onLiveEditorLoad(CloudCannon) {\n  CloudCannon.enableEvents();\n}\n\nexport async function onCloudCannonChanges(callback) {\n  if (!window.CloudCannon) {\n    document.addEventListener('cloudcannon:load', function (e) {\n      onLiveEditorLoad(e.detail.CloudCannon);\n    });\n  } else {\n    onLiveEditorLoad(window.CloudCannon);\n  }\n\n  const listener = async (e) => {\n    const { CloudCannon } = e.detail;\n    const latestValue = await CloudCannon.value();\n    callback(latestValue);\n  };\n  document.addEventListener('cloudcannon:update', listener);\n  listeners.push(listener);\n}\n\nexport async function stopCloudCannonChanges() {\n  for (let i = 0; i < listeners.length; i++) {\n    const listener = listeners[i];\n    document.removeEventListener('cloudcannon:update', listener);\n  }\n  listeners = [];\n}"],
  "mappings": ";;;AAAA,IAAI,YAAY;AAEhB,0BAA0B,aAAa;AACrC,cAAY;AAAA;AAGd,oCAA2C,UAAU;AACnD,MAAI,CAAC,OAAO,aAAa;AACvB,aAAS,iBAAiB,oBAAoB,SAAU,GAAG;AACzD,uBAAiB,EAAE,OAAO;AAAA;AAAA,SAEvB;AACL,qBAAiB,OAAO;AAAA;AAG1B,QAAM,WAAW,OAAO,MAAM;AAC5B,UAAM,EAAE,gBAAgB,EAAE;AAC1B,UAAM,cAAc,MAAM,YAAY;AACtC,aAAS;AAAA;AAEX,WAAS,iBAAiB,sBAAsB;AAChD,YAAU,KAAK;AAAA;AAGjB,wCAA+C;AAC7C,WAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,UAAM,WAAW,UAAU;AAC3B,aAAS,oBAAoB,sBAAsB;AAAA;AAErD,cAAY;AAAA;",
  "names": []
}
